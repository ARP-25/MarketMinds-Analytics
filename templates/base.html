{% load static %}
<!doctype html>
<html lang="en">
  <head>
    {% block meta %}
    <meta http-equiv="X-UA-Compatible" content="ie-edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="MarketMinds Analytics offers professional market analyses and trading insights for successful traders. Gain profound insights into financial markets, maximize your trading success, and explore the world of Bitcoin, Forex, and Stocks. Subscribe today!">
    <meta name="keywords" content="Market analyses, Trading, Subscriptions, Trading insights, Financial markets, Successful trading, Bitcoin, Forex, Stocks">
    {% endblock %}

    {% block extra_meta %}
    {% endblock %}

    {% block corecss %}
    <!-- Bootstrap  -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <!-- Font Awesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Main CSS -->
    <link rel="stylesheet" href="{% static 'css/base.css' %}">
    <!-- Mailchimp -->
    <link href="//cdn-images.mailchimp.com/embedcode/classic-061523.css" rel="stylesheet" type="text/css">
    {% endblock %}

    {% block extra_css %}   
    {% endblock %}

    {% block corejs %}
    <!-- Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Bootstrap JS (with Popper.js) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Main JS -->
    <script src="{% static 'js/base.js' %}"></script>
    {% endblock %}

    {% block extra_js %}
    {% endblock %}

    <title>MarketMinds Analytics {% block extra_title %}{% endblock %}</title>   
  </head>
  <body>
    <header class="container-fluid py-1 px-lg-5 sticky">
      <div class="row">       
        <div class="offset col-6 offset-lg-0 col-lg-3 d-flex align-items-center justify-content-start">
          <a href="{% url 'home' %}">
            <img src='https://res.cloudinary.com/dbui0ebjv/image/upload/v1705073680/newlogo_exzojr.png' alt="MarketMinds Analytics Logo" class="logo">
          </a>       
        </div>

        <nav class="main-nav col-6">
          <div class="d-flex justify-content-center">
            <a href="{% url 'home' %}" class="nav-link nav-element"><p class="nav-p">Home</p></a>
            <a href="{% url 'trade_insights' %}" class="nav-link nav-element"><p class="nav-p">Trade Insights</p></a>
            <a href="{% url 'get_started' %}" class="nav-link nav-element"><p class="nav-p">Get Started</p></a>
          </div>
        </nav>

        <div class="col-6 col-lg-3 d-flex align-items-center justify-content-end">
          <button class="hamburger mr-sm-3">
            <div class="bar"></div>
          </button>

          <a href="#" class="inherit-color nav-element mr-sm-3 pr-lg-3 p-2 p-l-3" id="dropdownMenu">
              <p class="nav-p nav-fa mb-0"><i class="far fa-user"></i></p>               
          </a>
          <div class="dropdown-content bg-color-secondary" id="myDropdown">
            {% if not user.is_authenticated %}
            <a class="d-block element p-1 m-1" href="{% url 'account_login' %}">Login</a>
            <a class="d-block element p-1 m-1" href="{% url 'account_signup' %}">Register</a> 
            {% elif user.is_authenticated %}
              <a class="d-block element p-1 m-1" href="{% url 'account_logout' %}">Logout</a>            
              <a class="d-block element p-1 m-1" href="{% url 'view_profile' %}">Profile Info</a>
              {% if user.is_superuser %}
                <a class="d-block element p-1 m-1" href="{% url 'admin_access' %}">Admin Access</a>
              {% endif %}            
            {% endif %}               
          </div>
          <a href="{% url 'bag' %}" class="inherit-color nav-element pr-lg-2 p-2 p-l-3">
            <p class="nav-p nav-fa mb-0"><i class="fas fa-shopping-bag"></i></p>
          </a>
        </div>
      </div>      
    </header>
    <nav class="mobile-nav">
      <a href="{% url 'home' %}" class="nav-link nav-element"><p class="nav-p">Home</p></a>
      <a href="{% url 'trade_insights' %}" class="nav-link nav-element"><p class="nav-p">Trade Insight</p></a>
      <a href="{% url 'get_started' %}" class="nav-link nav-element"><p class="nav-p">Get Started</p></a>
    </nav>

    {% block page_header %}
    {% endblock %}

    {% block content %}
    {% endblock %}

    {% if messages %}
        <div class="message-container">
            {% for message in messages %}
                {% with message.level as level %}
                    {% if level == 40 %}
                        {% include 'includes/toasts/toast_error.html' %}
                    {% elif level == 25 %}
                        {% include 'includes/toasts/toast_success.html' %}
                    {% else %}
                        {% include 'includes/toasts/toast_info.html' %}
                    {% endif %}
                {% endwith %}
            {% endfor %}
        </div>
    {% endif %}

    <footer class="pt-3 pt-sm-0 ">
      <div class="container-fluid mt-5">
        <div class="row">
            <div class="col-10 offset-1">
                <div class="white-line"></div>
            </div>
        </div>
      </div>
      <div class="row pt-3 pb-5 d-flex justify-content-center">
          <p class="text-secondary pr-3">
            Copyright
          </p>
          <p class="text-center">
            <strong>Â© 2023 ARP-25</strong>
          </p>
      </div>
    </footer>
    {% block postloadjs %}
      {{ block.super }}
        <!-- Toasts -->
        <script type="text/javascript">
          $(document).ready(function(){
              $('.toast').toast({ 'delay': 0, 'autohide': false });
              $('.toast').toast('show');
              $('.btn-close').click(function(){
                  $('.toast').toast('hide');
              });
          });
        </script>

        <!-- Mailchimp -->
        <script type="text/javascript" src="//s3.amazonaws.com/downloads.mailchimp.com/js/mc-validate.js"></script>
        <script type="text/javascript">
          (function($) {
            window.fnames = new Array(); window.ftypes = new Array();fnames[0]='EMAIL';ftypes[0]='email';fnames[1]='FNAME';ftypes[1]='text';fnames[2]='LNAME';ftypes[2]='text';fnames[3]='ADDRESS';ftypes[3]='address';fnames[4]='PHONE';ftypes[4]='phone';fnames[5]='BIRTHDAY';ftypes[5]='birthday';}(jQuery));var $mcj = jQuery.noConflict(true);
        </script>

        <!-- Hamburger -->
        <script type="text/javascript">
          window.onload = function () {

            const menu_btn = document.querySelector('.hamburger');
            const mobile_menu = document.querySelector('.mobile-nav');

            menu_btn.addEventListener('click', function(){
              
              menu_btn.classList.toggle('is-active');
              mobile_menu.classList.toggle('is-active');
            })

          }
        </script>
    {% endblock %}
    
  </body>
</html>
